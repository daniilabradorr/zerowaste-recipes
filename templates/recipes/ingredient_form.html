{% extends "base.html" %}
{% load static i18n %}

{% block head_extra %}
  <meta name="description" content="{% trans "Introduce los ingredientes sobrantes y recibe recetas IA que reducen desperdicio y CO₂." %}">
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "{% trans "Mis Ingredientes" %}",
    "description": "{% trans "Formulario para ingresar ingredientes y obtener recetas sostenibles generadas por IA." %}"
  }
  </script>
{% endblock %}

{% block title %}{% trans "Mis Ingredientes" %}{% endblock %}

{% block content %}
<section id="ingredients-input" role="region" aria-labelledby="ingredients-input-heading" class="container mx-auto px-4 py-6">
  <h1 id="ingredients-input-heading" class="text-2xl md:text-3xl font-serif text-primary mb-6">{% trans "Mis Ingredientes" %}</h1>

  <form
    hx-post="{% url 'recipes:suggest' %}"
    hx-target="#result"
    hx-swap="innerHTML"
    class="space-y-4"
  >
    {% csrf_token %}
    <textarea
      name="ingredients"
      rows="4"
      placeholder="{% trans 'zanahoria, garbanzos, arroz…' %}"
      class="w-full p-3 md:p-4 border rounded resize-none focus:outline-none focus:ring-2 focus:ring-primary"
    ></textarea>
    <button
      type="submit"
      class="inline-block bg-primary hover:bg-green-700 text-white font-semibold px-6 md:px-8 py-2 md:py-3 rounded-full transition"
    >{% trans "Sugerir receta" %}</button>
  </form>

  <div id="result" class="mt-8" role="region" aria-live="polite">
    <!-- Aquí se inyectan los resultados de la receta vía HTMX -->
  </div>
</section>
{% endblock %}
